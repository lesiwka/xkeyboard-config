commit c3367736c4399443662815303f4d45bdd20a1302
Author: Sergey V. Udaltsov <svu@gnome.org>
Date:   Tue Oct 13 10:00:12 2009 +0100

    Fixed default swiss variant, added legacy variant
    
    http://bugs.freedesktop.org/show_bug.cgi?id=24490

diff --git a/ChangeLog b/ChangeLog
index b146867..bd94b75 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -3,6 +3,8 @@
 	* rules/base.lists.part, symbols/macintosh_vndr/Makefile.am,
 	symbols/macintosh_vndr/es: Spanish mac layout just included the
 	general one
+	* rules/base.xml.in, symbols/ch: fixed Swiss default layout, added
+	legacy variant, http://bugs.freedesktop.org/show_bug.cgi?id=24490
 
 2009-10-12 Sergey Udaltsov
 
diff --git a/rules/base.xml.in b/rules/base.xml.in
index 58940c9..228b5e9 100644
--- a/rules/base.xml.in
+++ b/rules/base.xml.in
@@ -3706,6 +3706,12 @@
       <variantList>
         <variant>
           <configItem>
+            <name>legacy</name>
+            <_description>Legacy</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>de_nodeadkeys</name>
             <_description>German, eliminate dead keys</_description>
           </configItem>
diff --git a/symbols/ch b/symbols/ch
index 3a7646f..a0a2621 100644
--- a/symbols/ch
+++ b/symbols/ch
@@ -16,7 +16,7 @@ xkb_symbols "basic" {
     key <AE04> { [          4,   ccedilla                           ] };
     key <AE05> { [          5,    percent                           ] };
     key <AE06> { [          6,  ampersand,      notsign             ] };
-    key <AE07> { [          7,      slash,    brokenbar             ] };
+    key <AE07> { [          7,      slash,          bar             ] };
     key <AE08> { [          8,  parenleft,         cent             ] };
     key <AE09> { [          9, parenright                           ] };
     key <AE10> { [          0,      equal                           ] };
@@ -42,6 +42,14 @@ xkb_symbols "basic" {
 };
 
 partial alphanumeric_keys 
+xkb_symbols "legacy" {
+    include "ch(basic)"
+
+    name[Group1]= "Switzerland - Legacy";
+    key <AE07> { [          7,      slash,    brokenbar             ] };
+};
+
+partial alphanumeric_keys 
 xkb_symbols "de" {
     include "ch(basic)"
 };
